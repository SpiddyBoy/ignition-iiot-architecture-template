services:
  subscriber:
    healthcheck:
      disable: true
    labels:
      traefik.enable: "true"
      traefik.hostname: subscriber
    environment:
      GATEWAY_SYSTEM_NAME: subscriber
    networks:
      - default
      - proxy

  publisher:
    healthcheck:
      disable: true
    labels:
      traefik.enable: "true"
      traefik.hostname: publisher
    environment:
      GATEWAY_SYSTEM_NAME: publisher
    networks:
      - default
      - proxy

  broker:
    healthcheck:
      disable: true
    labels:
      traefik.enable: "true"
      traefik.hostname: broker
      traefik.http.services.broker.loadbalancer.server.port: "8088"
    environment:
      GATEWAY_SYSTEM_NAME: broker
    networks:
      - default
      - proxy

networks:
  default:
  proxy:
    external: true
    name: proxy
